"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),A=require("./pic-viewer.js"),S=c=>(e.pushScopeId("data-v-a0bf96cf"),c=c(),e.popScopeId(),c),N={class:"container"},x={class:"options"},z=["data-img","onClick"],C=S(()=>e.createElementVNode("div",{class:"shadow"},null,-1)),B={class:"label"},W={class:"info"},q={class:"main"},M={class:"sub"},O={name:"ManyPictures"},R=e.defineComponent({...O,props:{srcImgs:null,lazy:{type:Boolean,default:!1},config:{default:()=>({height:300,noActiveWidth:50,activeWidth:400,margin:5,zIndex:100})}},setup(c){const s=c;e.useCssVars(o=>({"65ad1171":y,"7b406518":_,"66d51cf2":k,"7c439e33":b}));const{height:h,noActiveWidth:f,activeWidth:m,margin:u}=s.config,_=h+u*2+"px",b=m+"px",k=f+"px",y=(s.srcImgs.length-1)*(f+2*u)+(m+2*u)+"px",a=e.ref(),d=e.ref(0),v=e.ref(!s.lazy);let r=e.ref(!1),g="";const E=e.computed(()=>{var o;return v.value?(o=s.srcImgs[d.value])==null?void 0:o.link:""});e.onMounted(()=>{if(s.lazy){const o=new IntersectionObserver(t=>{t.forEach(i=>{if(i.intersectionRatio<=0)return;const l=i.target,p=l.getAttribute("data-img");l.setAttribute("style",`background-image: url(${p})`),o.unobserve(l)})},{root:a.value}),n=new IntersectionObserver(t=>{t.forEach(i=>{if(i.intersectionRatio<=0)return;const l=i.target;l.querySelectorAll(".option").forEach(w=>{o.observe(w)}),v.value=!0,n.unobserve(l)})});n.observe(a.value)}else a.value.querySelectorAll(".option").forEach(n=>{const t=n.getAttribute("data-img");n.setAttribute("style",`background-image: url(${t})`)})});function I(o){v.value&&d.value===o&&(g=document.body.style.overflow,document.body.style.overflow="hidden",r.value=!0),d.value=o}function V(){document.body.style.overflow=g}return(o,n)=>(e.openBlock(),e.createElementBlock("div",{class:"many-pictures",ref_key:"mark",ref:a},[e.createElementVNode("div",N,[e.createElementVNode("div",x,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.srcImgs,(t,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["option",{active:i===d.value}]),"data-img":t.link,onClick:l=>I(i)},[C,e.createElementVNode("div",B,[e.createElementVNode("div",W,[e.createElementVNode("div",q,e.toDisplayString(t.title),1),e.createElementVNode("div",M,e.toDisplayString(t.description),1)])])],10,z))),256))])]),e.createVNode(A.default,{modelValue:e.unref(r),"onUpdate:modelValue":n[0]||(n[0]=t=>e.isRef(r)?r.value=t:r=t),"img-link":e.unref(E),"z-index":s.config.zIndex,onClose:V},null,8,["modelValue","img-link","z-index"])],512))}});exports.default=R;
